### 一、模块化开发

> 常用的三种导出模块的方式
>
> 1. module.exports = { ….}   — — 直接导出一个配置对象
>
>    - 使用场景: 导出配置信息
>
> 2. module.exports = function (req,res){…}  —— 导出一个函数
>
>    - 使用场景: 封装的模块需要外部参数,并且有业务逻辑
>
> 3. module.exports.index = function (req,res){…} 
>
>    module.exports.submit = function (req,res){…}   —— 导出对象指定固定的属性06-
>
>    - 使用场景: 业务模块里经常使用

1. #####什么是模块化开发?

   百度说法 : 模块化是指解决一个复杂问题时自顶向下逐层把系统划分成若干模块的过程。每个模块完成一个特定的子功能，所有的模块按某种方法组装起来，成为一个整体，完成整个系统所要求的功能。

   晕了,这是什么鬼? 

   简单的说就是: 我们实现一个应用,通常都会按照不同的功能,分割成不同的模块来编写,编写完之后,按照某种方式组装起来成为一个整体,最终实现整个系统的功能。

   再再简单的一句话就是: 把不同的功能,放到不同的模块里(.js)编写

2. #####为什么要进行模块化?

- 便于多人合作开发 ;
- 便于后期代码的维护 ; 

![模块化好处](md-imgs/模块化好处.png)

#####    3.  怎么进行模块化?

![模块化演练](md-imgs/模块化演练.png)

#####4.   对 hacker-news 进行模块化封装:

★ 分析模块

- 模块一 (配置模块) : 负责报错各种项目用到的配置信息

- 模块二 (扩展模块) : 负责拓展 req 和 res 对象,为 req 和 res 增加以下更方便更好用的 API

- 模块三 (路由模块) : 负责路由判断  

- 模块四 (业务模块) : 负责处理具体路由的业务的代码

- 模块五 (数据操作模块) : 负责进行数据库操作 (后期处理)

  ​

★ 步骤

> 时刻记住模块化的四个步骤:
>
> 1.创建模块(router.js),
>
>  2.导出模块(module.exports),
>
> 3.加载模块(require),
>
> 4.使用模块



##### ★ 时刻记住如何编写模块:

> 1. 当前模块要写什么内容?      ——>简: 内容
> 2. 这些代码是否用到外部的数据? ——>简: 参数
> 3. 是否依赖第三方模块、内置模块、文件模块和一起自定义方法 ——>简: 模块(函数)

1. 配置模块: config.js   :  
   - port 
   - filename
2. 拓展模块: context.js
   - req.method
   - res.ml_render
3. 路由模块: router.js
   - 记得 urlObj

```
  - 一定要注意 内置模块, 别忘记加载
  - 把业务数据模块都引进来,后面提出去
```

1. 业务模块: handler.js

   - module.exports.index = function(req,res) {...}

     ```js
      - 一定要注意 内置模块, 别忘记加载
      - 把最后三个封装的要拖进来
     ```

2. 数据操作模块:  待做....

3. ​

4. 服务模块: app.js 不动

   ​

5. **测试执行顺序 ! **

### 